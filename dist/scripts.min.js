let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(){let e=document.querySelector("#loading-container");e.innerHTML="";let t=document.createElement("div");t.classList.add("spinner"),e.appendChild(t),e.classList.add("is-visible")}function o(){document.querySelector("#loading-container").classList.remove("is-visible")}function i(e){let t=document.querySelector(".pokemon-list"),i=document.createElement("button");i.innerText=e.name,i.classList.add("list-group-item","list-group-item-action","text-center","text-uppercase"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),t.appendChild(i),function(e,t){e.addEventListener("click",function(){!function(e){(function(e){n();let t=e.detailsUrl;return fetch(t).then(function(e){return o(),e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)})}).catch(function(e){o(),console.error(e)})})(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body");t.empty(),n.empty();let o=$('<h1 class="text-uppercase">'+e.name+"</h1>");t.append(o);let i=document.createElement("img");i.classList.add("modal-img"),i.src=e.imageUrl;let a=$("<p>Height: "+e.height+"</p>"),c=$("<p>Weight: "+e.weight+"</p>"),s=$('<p class="text-capitalize">Types: '+e.types.join(", ")+"</p>");n.append(i),n.append(a),n.append(c),n.append(s)}(e)})}(t)})}(i,e)}return{getAll:function(){return e},findPokemon:function(t){$(".pokemon-list").empty(),e.forEach(e=>{e.name.toLowerCase().includes(t.toLowerCase())&&i(e)})},addListItem:i,loadList:function(){return n(),fetch(t).then(function(e){return o(),e.json()}).then(function(t){t.results.forEach(function(t){!function(t){"object"!=typeof t||Array.isArray(t)||"name"===Object.keys(t)[0]&&"detailsUrl"===Object.keys(t)[1]&&e.push(t)}({name:t.name,detailsUrl:t.url})})}).catch(function(e){o(),console.error(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
